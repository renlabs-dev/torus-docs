@tailwind base;
@tailwind components;
@tailwind utilities;

/*
Add additional Tailwind styles to this file, for example with @layer:
https://tailwindcss.com/docs/adding-custom-styles#using-css-and-layer
*/

/* Make child folders 20% smaller than parent folders */

/* The Parent Folder */
.large {
  font-size: 1.1em !important; /* 10% bigger than default */
  color: inherit !important;
}

/* Then target ONLY nested .large elements (child folders) - 20% bigger from current size */
li li .large,
ul ul .large {
  font-size: 0.96em !important; /* 20% bigger from 0.8em (0.8 * 1.2 = 0.96) */
  color: inherit !important; /* Remove test color */
}

/* Alternative approach - target elements that are deeper in the nesting */
details details .large {
  font-size: 0.96em !important; /* 20% bigger from 0.8em */
  color: inherit !important; /* Remove test color */
}

/*
CONTENT LINK STYLING CUSTOMIZATION GUIDE:
This section controls the blue color for content links while preserving 
navigation elements in their original colors.

To customize content link colors:
- Change #3b82f6 (blue-500) for normal link color
- Change #2563eb (blue-600) for hover link color
- Add more selectors to include additional link types
- Add more exclusions to prevent styling specific elements

Navigation elements excluded:
- Sidebar navigation
- Page navigation (prev/next buttons)
- Header navigation
- Any nav-specific elements
*/

/* D3-inspired orange content links */
@layer components {
  /* Only make content area links orange (D3 style) */
  .sl-markdown-content a,
  .starlight-aside a,
  article a,
  main a,
  p a,
  ul:not(nav ul) li a,
  ol:not(nav ol) li a {
    color: #e04600 !important; /* D3 primary orange */
    text-decoration: none !important;
    transition: all 0.2s ease-in-out;
  }
  
  .sl-markdown-content a:hover,
  .starlight-aside a:hover,
  article a:hover,
  main a:hover,
  p a:hover,
  ul:not(nav ul) li a:hover,
  ol:not(nav ol) li a:hover {
    color: #e85d14 !important; /* D3 secondary orange - lighter on hover */
    text-decoration: none !important;
  }

  /* Dark mode adjustments for links */
  :root[data-theme="dark"] .sl-markdown-content a,
  :root[data-theme="dark"] .starlight-aside a,
  :root[data-theme="dark"] article a,
  :root[data-theme="dark"] main a,
  :root[data-theme="dark"] p a,
  :root[data-theme="dark"] ul:not(nav ul) li a,
  :root[data-theme="dark"] ol:not(nav ol) li a {
    color: #ff9852 !important; /* D3 dark mode orange */
  }
  
  :root[data-theme="dark"] .sl-markdown-content a:hover,
  :root[data-theme="dark"] .starlight-aside a:hover,
  :root[data-theme="dark"] article a:hover,
  :root[data-theme="dark"] main a:hover,
  :root[data-theme="dark"] p a:hover,
  :root[data-theme="dark"] ul:not(nav ul) li a:hover,
  :root[data-theme="dark"] ol:not(nav ol) li a:hover {
    color: #ff823e !important; /* Slightly darker orange for dark mode hover */
  }
}

/* Explicitly keep navigation elements in original colors */
@layer components {
  /* Sidebar navigation */
  nav a,
  nav .large,
  [data-starlight-sidebar] a,
  [data-starlight-sidebar] .large,
  nav[aria-labelledby="starlight__sidebar-navigation"] a,
  nav[aria-labelledby="starlight__sidebar-navigation"] .large,
  details summary,
  details summary .large,
  .sidebar a,
  .sidebar .large,
  /* Page navigation (prev/next buttons) */
  .pagination a,
  [data-pagination] a,
  .pagination-links a,
  .sl-flex a[rel="prev"],
  .sl-flex a[rel="next"],
  footer a,
  .starlight-aside .pagination a {
    color: inherit !important;
    text-decoration: none !important;
  }
  
  /* Orange hover states for navigation elements */
  nav a:hover,
  [data-starlight-sidebar] a:hover,
  nav[aria-labelledby="starlight__sidebar-navigation"] a:hover,
  details summary:hover,
  .sidebar a:hover,
  .pagination a:hover,
  [data-pagination] a:hover,
  .pagination-links a:hover,
  .sl-flex a[rel="prev"]:hover,
  .sl-flex a[rel="next"]:hover,
  footer a:hover,
  .starlight-aside .pagination a:hover {
    color: #e04600 !important; /* Orange hover for navigation */
    text-decoration: none !important;
    transition: all 0.2s ease-in-out !important;
  }
  
  /* Dark mode orange hover for navigation */
  :root[data-theme="dark"] nav a:hover,
  :root[data-theme="dark"] [data-starlight-sidebar] a:hover,
  :root[data-theme="dark"] nav[aria-labelledby="starlight__sidebar-navigation"] a:hover,
  :root[data-theme="dark"] details summary:hover,
  :root[data-theme="dark"] .sidebar a:hover {
    color: #ff9852 !important; /* Dark mode orange hover */
  }
  
  /* Orange active/selected page styling with left bar */
  nav a[aria-current="page"],
  [data-starlight-sidebar] a[aria-current="page"],
  nav[aria-labelledby="starlight__sidebar-navigation"] a[aria-current="page"],
  .sidebar a[aria-current="page"],
  nav a.active,
  [data-starlight-sidebar] a.active,
  .sidebar a.active {
    color: #e04600 !important; /* Orange text for active/selected pages */
    background-color: transparent !important; /* No background */
    font-weight: 600 !important; /* Make it slightly bolder for better visibility */
    border-left: 3px solid #e04600 !important; /* Orange left bar */
    padding-left: calc(1rem - 3px) !important; /* Adjust padding to account for border */
    transition: all 0.2s ease-in-out !important;
  }
  
  /* Dark mode orange active states */
  :root[data-theme="dark"] nav a[aria-current="page"],
  :root[data-theme="dark"] [data-starlight-sidebar] a[aria-current="page"],
  :root[data-theme="dark"] nav[aria-labelledby="starlight__sidebar-navigation"] a[aria-current="page"],
  :root[data-theme="dark"] .sidebar a[aria-current="page"],
  :root[data-theme="dark"] nav a.active,
  :root[data-theme="dark"] [data-starlight-sidebar] a.active,
  :root[data-theme="dark"] .sidebar a.active {
    color: #ff9852 !important; /* Dark mode orange text */
    border-left-color: #ff9852 !important; /* Dark mode orange left bar */
  }
}

/* D3-inspired utility classes and modern design elements */
@layer utilities {
  /* Typography utilities (D3 style) */
  .f12 {
    font-size: 12px !important;
  }
  
  .f14 {
    font-size: 14px !important;
  }
  
  .fw6 {
    font-weight: 600 !important;
  }
  
  .lh-normal {
    line-height: normal !important;
  }
  
  .lh-1_5 {
    line-height: 1.5 !important;
  }

  /* Layout utilities */
  .flex-grow-1 {
    flex-grow: 1 !important;
  }
  
  .fb6 {
    flex-basis: 10rem !important;
  }

  /* Spacing utilities */
  .ma4 {
    margin: 2rem !important;
  }
  
  .ml1 {
    margin-left: 1rem !important;
  }
  
  .mb2 {
    margin-bottom: 0.5rem !important;
  }

  /* Glass morphism and backdrop blur */
  .glass {
    background: rgba(246, 246, 247, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  }
  
  .glass-dark {
    background: rgba(37, 37, 41, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  }

  /* Brand color utilities */
  .text-brand {
    color: #e04600 !important;
  }
  
  .text-brand-light {
    color: #ef7234 !important;
  }
  
  .text-brand-dark {
    color: #ff9852 !important;
  }
  
  .bg-brand {
    background-color: #e04600 !important;
  }
  
  .bg-brand-soft {
    background-color: rgba(239, 114, 52, 0.16) !important;
  }
  
  /* Legacy red utilities */
  .text-red-attention {
    color: #ef4444 !important;
    font-weight: 500 !important;
  }
  
  .text-red-light {
    color: #f87171 !important;
    font-weight: 500 !important;
  }
  
  .text-red-soft {
    color: #fca5a5 !important;
    font-weight: 500 !important;
  }
}

/* Make text with tooltips appear yellowish with underline */
[title] {
  color: #d97706 !important; /* Yellow-600 */
  /* text-decoration: underline; */
  /* text-decoration-style: dotted; */
  cursor: help;
}

[title]:hover {
  color: #b45309 !important; /* Yellow-700 - darker on hover */
  text-decoration-style: solid;
}

/*
TOOLTIP STYLING CUSTOMIZATION GUIDE:
The astro-tooltips package uses Tippy.js under the hood.
You can customize the tooltip appearance by targeting these CSS classes:

1. .tippy-box - Main tooltip container
2. .tippy-content - Content wrapper inside tooltip
3. .tippy-arrow - Tooltip arrow/pointer

Available properties to customize:
- max-width: Controls tooltip width (forces line breaks)
- background-color: Tooltip background
- color: Text color
- padding: Inner spacing
- border-radius: Corner rounding
- font-size: Text size
- line-height: Line spacing
- box-shadow: Drop shadow
- border: Border styling
*/

/* Custom tooltip styling - square-ish with line breaks */
.tippy-box {
  max-width: 300px !important; /* Force line breaks at 300px */
  background-color: #374151 !important; /* Gray-700 background */
  border-radius: 6px !important; /* Slightly rounded corners for square-ish look */
  box-shadow: 0 4px 14px -2px rgba(0, 0, 0, 0.2) !important;
}

.tippy-content {
  padding: 12px 16px !important; /* More padding for better readability */
  color: #f9fafb !important; /* Gray-50 text */
  font-size: 14px !important;
  line-height: 1.5 !important; /* Better line spacing */
  text-align: left !important;
}

.tippy-arrow {
  color: #374151 !important; /* Match background color */
}

/* D3-inspired modern enhancements */
@layer components {
  /* Code blocks with better styling */
  .sl-markdown-content pre,
  .sl-markdown-content code {
    line-height: 1.5 !important;
  }
  
  .sl-markdown-content :not(pre) > code {
    background-color: var(--sl-color-gray-6) !important;
    padding: 0.125rem 0.25rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.875em !important;
  }

  /* Improved search styling (D3 inspired rounded search) */
  .search-input,
  input[type="search"] {
    border-radius: 1000px !important;
    transition: all 0.2s ease-in-out !important;
  }
  
  /* Button and interactive element improvements */
  button,
  .sl-badge,
  .starlight-aside {
    transition: all 0.2s ease-in-out !important;
  }
  
  /* Improved table styling */
  .sl-markdown-content table {
    border-collapse: collapse !important;
  }
  
  .sl-markdown-content td,
  .sl-markdown-content th {
    white-space: nowrap !important;
    padding: 0.5rem 0.75rem !important;
  }
  
  /* Enhanced figure captions */
  .sl-markdown-content figcaption {
    line-height: 20px !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    color: var(--sl-color-text-accent) !important;
    margin-top: 0.5rem !important;
  }
  
  /* Improved aside/callout styling */
  .starlight-aside {
    border-left-color: #e04600 !important;
  }
  
  .starlight-aside.starlight-aside--tip {
    border-left-color: #e04600 !important;
    background-color: rgba(239, 114, 52, 0.08) !important;
  }
  
  .starlight-aside.starlight-aside--note {
    border-left-color: #e85d14 !important;
    background-color: rgba(232, 93, 20, 0.08) !important;
  }

  /* Header anchor improvements */
  .sl-markdown-content h1:hover .header-anchor,
  .sl-markdown-content h2:hover .header-anchor,
  .sl-markdown-content h3:hover .header-anchor,
  .sl-markdown-content h4:hover .header-anchor,
  .sl-markdown-content h5:hover .header-anchor,
  .sl-markdown-content h6:hover .header-anchor {
    opacity: 1 !important;
    color: #e04600 !important;
  }

  /* Modern scrollbar (webkit browsers) */
  .sl-markdown-content *::-webkit-scrollbar {
    width: 6px !important;
    height: 6px !important;
  }
  
  .sl-markdown-content *::-webkit-scrollbar-track {
    background: var(--sl-color-gray-6) !important;
    border-radius: 3px !important;
  }
  
  .sl-markdown-content *::-webkit-scrollbar-thumb {
    background: var(--sl-color-accent) !important;
    border-radius: 3px !important;
  }
  
  .sl-markdown-content *::-webkit-scrollbar-thumb:hover {
    background: var(--sl-color-accent-high) !important;
  }

  /* Responsive layout improvements */
  @media (min-width: 768px) {
    .search-input {
      padding-right: 0.75rem !important;
      height: 2rem !important;
    }
  }
}

/* Custom CSS variables for D3-inspired theming */
:root {
  --brand-orange-1: #e04600;
  --brand-orange-2: #e85d14;
  --brand-orange-3: #ef7234;
  --brand-orange-soft: rgba(239, 114, 52, 0.16);
  --brand-orange-dark: #ff9852;
  --brand-font-family: -apple-system, BlinkMacSystemFont, "avenir next", avenir, helvetica, "helvetica neue", ubuntu, roboto, noto, "segoe ui", arial, sans-serif;
}

:root[data-theme="dark"] {
  --brand-orange-1: #ff9852;
  --brand-orange-2: #ff823e;
  --brand-orange-3: #ef7234;
}
