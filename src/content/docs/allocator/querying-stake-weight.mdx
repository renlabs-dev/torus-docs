---
title: How to Query Stake Weight
description: Learn how to query the stake weight between keys
---
import { CardGrid, LinkCard, Aside } from "@astrojs/starlight/components";

# Api presentation
How to Query Stake Weight
Our API allows you to retrieve information about the stake allocation between keys and agents. You can query this data by making a GET request to allocator.torus.network/api/allocated-weight.

API Response Format
The API response has the following structure:

```json
{
    "json": {
    "<SS58Address>": {
    "<SS58Address>": <bigint>
    }
}}
```

- The outer `<SS58Address>` represents the key allocating the stake.
- The inner `<SS58Address>` represents the agent receiving the stake.
- The `<bigint>` value indicates the amount of stake allocated.


<Aside>
    Filtering Options
    You can filter the API response based on specific allocating keys or agents using query parameters.
    
    - Filter by Allocating Key

        To filter the response for a specific allocating key, append the userKey query parameter to the API endpoint:
        
        ```allocator.torus.network/api/allocated-weight?agentKey=<SS58Address>```
    - Filter by Agent Key

        To filter the response for specific agents, append the agentKey query parameter to the API endpoint:
        
        ```allocator.torus.network/api/allocated-weight?agentKey=<SS58Address>```
</Aside>


<Aside type="tip">
    Replace `<SS58Address>` with the desired allocating key address.
</Aside>
